
      
      
      
    
      
      
      
    
      
      
      
    
      
      
      
    
      
      
      
    [{"authors":null,"categories":null,"content":"Building a better and scalable system for data migrations\nデータ移行のためのより優れた拡張可能なシステムの構築 2024年10月24日\n最近、新しいRustのWebフレームワーク「rwf」に興味を持ち、特にデータベース移行の方法に注目した。だが、このフレームワークは他の多くのフレームワーク同様、移行が大規模になると対応が困難になる。GitLabの例を通じて、規模拡大での移行の課題を説明し、それを解決するための具体的な手法を提案する。\n提案する改善案 移行をプログラミング関数として記述する SQLスニペットではなく、RubyやRustなどのプログラミング言語で実装することで、柔軟性を確保する。\nVCSリビジョンに基づく移行の実行 コードの状態に依存しない移行を実現し、テストや保守性を向上させる。これにより、アプリケーションロジックの重複も防げる。\n事前・事後移行の分離 GitLabの事例のように、事前移行で後方互換性を保ち、事後移行で不要な要素を削除する。\n大規模データの移行 並列処理とバックグラウンドジョブを使い、負荷分散を行う。これにより、移行が長時間に及ぶ場合でも運用を継続できる。\n移行テストの容易化 初期状態からの移行を再現するテストを導入し、移行が正しく動作することを確認できるようにする。\nGitLabの実例 GitLabでは、最初はRuby on Railsの移行フレームワークを使っていたが、データベースのサイズが大きくなるにつれて従来の方法では非効率になった。特に、カラムのリネームや大規模なデータ移行は、伝統的なRailsのアプローチでは数週間かかることもあった。そのため、以下の解決策が取られた。\n事前移行と事後移行の分割：事前移行では互換性のある変更のみを行い、事後移行で不要なデータを削除する。 バックグラウンドジョブの使用：Sidekiqを使って長時間かかる移行をバックグラウンドで実行する。 アプリケーションロジックからの独立：移行のたびに必要なコードをスナップショットとして保持し、他のアプリケーションロジックから分離する。 現行の移行システムが抱える問題 タイムレスでない：移行がアプリケーションの最新の状態に依存するため、途中でロジックが変わると移行が失敗する可能性がある。 スケールしない：小規模な移行には対応できるが、大規模なシステムには不十分。 プロジェクト間で異なる要件：小さなSQLiteを使うアプリと、10TiBのデータを持つSaaSでは移行の要件が大きく異なる。 どうやってより良いシステムを構築するか 移行を関数として実装：SQLファイルに頼らず、プログラム言語で記述し、双方向の移行を実現する。 VCSリビジョンで移行を管理：各移行が特定のリビジョンに対応することで、タイムレスな移行を保証する。 事前・事後移行の適用：GitLabの手法を参考に、後方互換性を保ちながら、必要な変更を段階的に適用する。 大規模データ移行の支援：負荷を分散し、バックグラウンドでジョブを実行する仕組みを提供する。 移行テストを容易にする：テスト用のプリミティブを提供し、移行が正しく動作するかを検証できるようにする。 結論 この提案は、移行システムをより効果的かつスケーラブルにするための一案だ。特に、VCSリビジョンに基づく移行は注目に値し、今後自分がWebフレームワークを開発する際に、このアイデアを試してみたいと考えている。\nこの話の流れが面白い GitLab.com database incident\n","date":1730190289,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1730216366,"objectID":"0fa102757369267a40dfc27319fd97f3","permalink":"https://mekann2904.github.io/mekann/post/2024/10/29/3/","publishdate":"2024-10-29T17:24:49+09:00","relpermalink":"/post/2024/10/29/3/","section":"post","summary":"Building a better and scalable system for data migrations\nデータ移行のためのより優れた拡張可能なシステムの構築 2024年10月24日\n最近、新しいRustのWebフレームワーク「rwf」に興味を持ち、特にデータベース移行の方法に注目した。だが、このフレームワークは他の多くのフレームワーク同様、移行が大規模になると対応が困難になる。GitLabの例を通じて、規模拡大での移行の課題を説明し、それを解決するための具体的な手法を提案する。\n","tags":null,"title":"データ移行のためのより優れた拡張可能なシステムの構築","type":"post"},{"authors":null,"categories":null,"content":"OSI readies controversial Open AI definition [LWN.net]\nOpen Source AI Definition (OSAID)に関する議論の要約 2024年10月27日にOpen Source Initiative (OSI) が「オープンソースAI定義（OSAID）」の採択を予定している。この定義は、AIシステムのコードやモデルを自由に利用・改変・共有できるようにするための指針を策定する試みだ。しかし、コミュニティ内ではOSAIDの内容に関して意見が分かれている。\n定義の要点 OSAIDは、AIシステムを「コード」「モデルのパラメータ」「データに関する情報」から成るものと定義する。この定義においては、OSI認定ライセンスの下でこれらを公開することが求められるが、訓練データの提供は必須ではなく、詳細な情報のみで良いとされている。この点が議論を呼んでいる。\n賛否両論 一部の開発者からは、訓練データが提供されないことがオープンソースの原則を損なうとの批判が出ている。FSF（Free Software Foundation）は、訓練データを含まないAIシステムは「非自由」と分類すべきだと主張している。 これに対し、OSIは商業的現実とのバランスが重要だと説明している。訓練データには商業価値や法的制約があるため、公開することが難しいケースが多いという。 OSIの見解と課題 OSIのステファノ・マッフリは、AIのオープンソース化には従来のオープンソース定義（OSD）では不十分だとし、幅広い関係者の意見を取り入れて新しい基準を作成したと述べている。従来の定義の適用には限界があり、現実的な解決策が必要であると主張している。\n今後の展望 OSAIDの最終版は2024年10月28日に公開予定だが、これがAI開発や商業利用に与える影響は不透明なままだ。採択されるかどうか、またその後の反応が注目される。\n","date":1730172429,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1730216356,"objectID":"75916a1eea0441e8a7978cc352c5c3f5","permalink":"https://mekann2904.github.io/mekann/post/2024/10/29/2/","publishdate":"2024-10-29T12:27:09+09:00","relpermalink":"/post/2024/10/29/2/","section":"post","summary":"OSI readies controversial Open AI definition [LWN.net]\nOpen Source AI Definition (OSAID)に関する議論の要約 2024年10月27日にOpen Source Initiative (OSI) が「オープンソースAI定義（OSAID）」の採択を予定している。この定義は、AIシステムのコードやモデルを自由に利用・改変・共有できるようにするための指針を策定する試みだ。しかし、コミュニティ内ではOSAIDの内容に関して意見が分かれている。\n","tags":null,"title":"Open Source AI Definition (OSAID)に関する議論","type":"post"},{"authors":null,"categories":null,"content":"Introducing ChatGPT search | OpenAI\nOpenAIからこんなメールが来た ChatGPT searchが使えるようになったので早速試してみることに… 何個か適当に調べてみたが、それなりに使える気がするが、\nまあ、心理学者がChatGPTを使う事によって、アイデンティティを失うと警告していたが、ディストピア - 華氏451度と共通するものを感じるし積極的に使うかどうかは面白いところではあるし、議論するべき話題だと思う\nHacker Newsのコメントも非常に興味深い ChatGPT Search | Hacker News\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1730439307,"objectID":"f8c33968f23d724fafb5d1c6880d06e2","permalink":"https://mekann2904.github.io/mekann/post/2024/11/01/1/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/post/2024/11/01/1/","section":"post","summary":"Introducing ChatGPT search | OpenAI\nOpenAIからこんなメールが来た ChatGPT searchが使えるようになったので早速試してみることに… 何個か適当に調べてみたが、それなりに使える気がするが、\nまあ、心理学者がChatGPTを使う事によって、アイデンティティを失うと警告していたが、ディストピア - 華氏451度と共通するものを感じるし積極的に使うかどうかは面白いところではあるし、議論するべき話題だと思う\nHacker Newsのコメントも非常に興味深い ChatGPT Search | Hacker News\n","tags":null,"title":"ChatGPT search","type":"post"},{"authors":null,"categories":null,"content":"d3-force | D3 by Observable\nobsidianのグラフビューみたいなのを作るときに使えそう… 将来的にこれを使えるようになりたい\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1730380227,"objectID":"68466c569945f83ca31b78c71490a561","permalink":"https://mekann2904.github.io/mekann/post/2024/10/31/1/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/post/2024/10/31/1/","section":"post","summary":"d3-force | D3 by Observable\nobsidianのグラフビューみたいなのを作るときに使えそう… 将来的にこれを使えるようになりたい\n","tags":null,"title":"d3-force","type":"post"}]