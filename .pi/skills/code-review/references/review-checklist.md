# コードレビュー詳細チェックリスト

## 1. 設計（Design）

### 全体設計

- [ ] CLのコードの各部分は相互にきちんと連携するか
- [ ] この変更はコードベースに属するものか（ライブラリに属すべきでないか）
- [ ] システムの他の部分とうまく統合するか
- [ ] この機能を追加するタイミングは今がふさわしいか
- [ ] API設計が適切か
- [ ] データモデルが適切か

### SOLID原則

- [ ] 単一責任の原則（SRP）：各クラス/関数は単一の責任を持つか
- [ ] 開放閉鎖の原則（OCP）：拡張に対して開いており、修正に対して閉じているか
- [ ] リスコフの置換原則（LSP）：派生型は基本型と置換可能か
- [ ] インターフェース分離の原則（ISP）：インターフェースが細分化されているか
- [ ] 依存関係逆転の原則（DIP）：抽象に依存し、具象に依存していないか

---

## 2. 機能性（Functionality）

### 基本動作

- [ ] 開発者の意図通りに動作するか
- [ ] 要件を満たしているか
- [ ] ユーザー（エンドユーザー/開発者）にとって適切か

### エッジケース

- [ ] 空入力の処理
- [ ] null/undefinedの処理
- [ ] 境界値の処理
- [ ] 大容量データの処理
- [ ] ネガティブケースの処理

### 並行処理

- [ ] デッドロックの可能性がないか
- [ ] 競合状態の可能性がないか
- [ ] スレッドセーフか
- [ ] 適切なロック機構を使用しているか

### UI変更がある場合

- [ ] 実際に動作確認したか
- [ ] レスポンシブデザインが適切か
- [ ] アクセシビリティを考慮しているか

---

## 3. 複雑性（Complexity）

### コードレベル

- [ ] 一行ずつが理解しやすいか
- [ ] ネストが深すぎないか（3段階以内推奨）
- [ ] 条件分岐が複雑すぎないか
- [ ] 三項演算子が読みやすいか

### 関数レベル

- [ ] 関数の長さが適切か（50行以内推奨）
- [ ] パラメータの数が適切か（4つ以内推奨）
- [ ] 関数が単一のことを行うか
- [ ] 副作用が明示的か

### クラス/モジュールレベル

- [ ] クラスの責任が明確か
- [ ] 依存関係が適切か
- [ ] 公開APIが最小限か

### オーバーエンジニアリング

- [ ] 必要以上に一般化していないか
- [ ] 現在必要のない機能を盛り込んでいないか
- [ ] 将来の予測に基づいた実装になっていないか

---

## 4. テスト（Tests）

### テストカバレッジ

- [ ] ユニットテストがあるか
- [ ] 統合テストが必要か（ある場合、追加されているか）
- [ ] E2Eテストが必要か（ある場合、追加されているか）
- [ ] エッジケースのテストがあるか

### テスト品質

- [ ] テストは正確か（偽陽性/偽陰性がないか）
- [ ] テストは適切か（実際の使用シナリオをカバーしているか）
- [ ] テストは有用か（バグを検出できるか）
- [ ] テストが壊れているときに失敗するか
- [ ] テストが独立しているか（他のテストに依存しないか）

### テストコードの品質

- [ ] テストコードも保守すべきコードであることを意識しているか
- [ ] テストが複雑すぎないか
- [ ] テストの意図が明確か

---

## 5. 命名（Naming）

### 一般原則

- [ ] 名前は何であるか／何をするかを伝えるのに十分に長いか
- [ ] 名前は読むのに困難を覚えないほど短いか
- [ ] 略語が適切か（一般的でない略語を避ける）
- [ ] 一貫性があるか（同じ概念には同じ名前を使う）

### 種類別

- [ ] 変数名：名詞、内容を表す
- [ ] 関数名：動詞、動作を表す
- [ ] ブール変数：is/has/can等のプレフィックス
- [ ] 定数：UPPER_SNAKE_CASE

---

## 6. コメント（Comments）

### 原則

- [ ] 「なぜ」を説明しているか（「何」ではなく）
- [ ] コメントが実際に必要か
- [ ] コードが自明でない場合にコメントがあるか
- [ ] 古いコメントが残っていないか

### 種類別

- [ ] TODOコメント：適切に管理されているか
- [ ] FIXMEコメント：重要な問題が示されているか
- [ ] ドキュメンテーションコメント：公開APIに適切に記述されているか

### 禁止パターン

- [ ] コードと矛盾するコメントがないか
- [ ] 明白なことを説明するコメントがないか
- [ ] コードの代わりになるコメントがないか

---

## 7. スタイル（Style）

### 基本確認

- [ ] スタイルガイドに準拠しているか
- [ ] インデントが一貫しているか
- [ ] 空白の使用が一貫しているか
- [ ] 括弧のスタイルが一貫しているか

### 言語固有

- [ ] 言語固有のスタイルガイドに準拠しているか
  - Java: Google Java Style
  - Python: PEP 8
  - JavaScript: Airbnb Style / Standard
  - Go: Effective Go

---

## 8. ドキュメンテーション（Documentation）

### 更新確認

- [ ] READMEが更新されているか
- [ ] APIドキュメントが更新されているか
- [ ] 設定ドキュメントが更新されているか
- [ ] 変更ログが更新されているか

### 削除時の確認

- [ ] 削除されたコードのドキュメントも削除されているか
- [ ] 非推奨になったコードに適切な注記があるか

---

## 9. セキュリティ（Security）

### 入力検証

- [ ] ユーザー入力が検証されているか
- [ ] SQLインジェクション対策がされているか
- [ ] XSS対策がされているか
- [ ] CSRF対策がされているか

### 認証・認可

- [ ] 適切な認証チェックがあるか
- [ ] 適切な認可チェックがあるか
- [ ] セッション管理が適切か

### 機密情報

- [ ] パスワードがログに出力されていないか
- [ ] 機密情報がハードコードされていないか
- [ ] 暗号化が適切か

---

## 10. パフォーマンス（Performance）

### アルゴリズム

- [ ] 計算量が適切か
- [ ] 不要なループがないか
- [ ] N+1問題がないか

### リソース

- [ ] メモリリークの可能性がないか
- [ ] 適切なキャッシュが使用されているか
- [ ] 接続が適切にクローズされているか

---

## レビュー完了前の最終確認

- [ ] すべてのファイルを確認したか
- [ ] すべてのコメントに返信したか
- [ ] LGTM/承認の基準を満たしているか
- [ ] 開発者に良い点を伝えたか
