# Self-Improvement Quality Metrics

---
created: 2026-02-23
version: 1.1.0
last_mutated: 2026-02-23
mutation_cycle: 2
purpose: 自己改善ループの品質指標と品質ゲートの定義
related:
  - self-improvement-deep-dive-team.md
  - self-improvement/SKILL.md
  - self-reflection/SKILL.md
---

## [重要] このドキュメントの位置づけ

> **警告**: この品質メトリクスは「絶対的な指標」ではなく「参考値」である。
> 
> **数値が測定できない質的側面**:
> - 思考の「迫力」：どれだけ深く考えたかはフェーズ数では測れない
> - 創造的飛躍：予期せぬ接続、セレンディピティは「視座多様性」では捕捉できない
> - アポリアの「質」：保持されたアポリアが「本質的」か「表面的」かは区別されない
> - 決断の「重み」：計算不能な決断が持つ倫理的・実存的な重みは数値化できない
> 
> **これらの数値は「一つの語り」であり、「唯一の語り」ではない。**

---

## 1. 反復深度レベル（Iteration Depth Levels）

推論の深度を5レベルで定義し、各レベルでの必須アクションを明示する。

| レベル | 名称 | 必須アクション | トリガー条件 |
|--------|------|---------------|-------------|
| Level 1 | 表面的確認 | チェックリスト適用 | デフォルト |
| Level 2 | 代替視点生成 | 2つ以上の異なる枠組みで再分析 | Level 1完了後 |
| Level 3 | 自己否定試行 | 自分の結論を積極的に否定する論証を構築 | CONFIDENCE >= 0.8 |
| Level 4 | アポリア保持 | 矛盾を「解決」せずに「生きる」判断 | アポリア検出時 |
| Level 5 | 視座の統合的往還 | 7視座を非順序で往還する | 複雑な倫理的問題 |

### 深度エスカレーションの自動トリガー

```
IF CONFIDENCE >= 0.8 THEN Level 3強制実行
IF アポリア検出 THEN Level 4へ自動遷移
IF ユーザーからの異議あり THEN Level 2から再開
IF 高リスクタスク（削除・セキュリティ・認証） THEN Level 4から開始
```

## 2. 品質指標（Quality Metrics）

### 2.1 コア指標

| 指標 | 説明 | 測定方法 | 閾値 | 重み |
|------|------|---------|------|------|
| **推論深度** | 反復の深さ | 到達した最大深度レベル | >= 3 | 25% |
| **反例カバレッジ** | 生成された反例の質 | Strong以上の批判数 | >= 1 | 20% |
| **アポリア保持率** | 統合されずに保持された対立 | アポリア数 / 発見された対立数 | >= 0.5 | 15% |
| **視座多様性** | 7視座の使用バランス | 使用視座数 / 7 | >= 4/7 | 15% |
| **自己否定率** | 仮説が反例により修正された割合 | 修正回数 / 総反復数 | >= 0.2 | 25% |

### 2.2 指標の計算式

```
総合品質スコア = 
  (推論深度 / 5) * 0.25 +
  (反例カバレッジ >= 1 ? 1 : 0) * 0.20 +
  (アポリア保持率) * 0.15 +
  (視座多様性) * 0.15 +
  (自己否定率) * 0.25
```

## 3. 品質ゲート（Quality Gate）

各タスク完了前に以下を確認する：

### 3.1 基本ゲート（必須）

```
[ ] 深度レベル3以上に到達したか
[ ] Strong以上の批判を生成したか
[ ] アポリアを「解決」せずに明示したか
[ ] 4視座以上を適用したか
[ ] 初期仮説を少なくとも1回修正したか
```

### 3.2 拡張ゲート（高リスクタスク）

```
[ ] 深度レベル4以上に到達したか
[ ] Critical以上の批判を生成したか
[ ] 6視座以上を適用したか
[ ] 初期仮説を少なくとも2回修正したか
[ ] 自分の仮説を否定する証拠を最低1つ探したか
```

### 3.3 ゲート通過条件

- **すべてYES** → 品質基準通過
- **1つでもNO** → 該当項目の再実行

## 4. 不変条件（Invariants）

自己改善ループが遵守すべき不変条件：

```
I1: [非進歩主義] 「改善」が「より良くなる」ことを意味しない
I2: [非統合] すべての対立が「統合」可能と仮定しない
I3: [非完結] すべての推論が「完了」可能と仮定しない
I4: [非中立] どの視点も「中立的」ではないことを前提する
I5: [非透明] 意味の完全な透明性を仮定しない
I6: [非線形] リゾーム的思考において「正しい順序」を仮定しない
```

### 違反時の対応

不変条件違反を検出した場合：
1. 該当する不変条件を再確認
2. 推論プロセスを再構築
3. 違反内容をログに記録

## 5. 批判の質の基準

| 批判レベル | 説明 | 例 |
|-----------|------|-----|
| **Weak** | 「〜かもしれない」レベルの可能性指摘 | 「別の解釈も可能かもしれません」 |
| **Medium** | 具体的な反例の提示 | 「ケースXではこの結論は成立しません」 |
| **Strong** | 反例の構造的説明 | 「Aが成り立たないのはBという構造的理由による」 |
| **Critical** | 論証の前提自体を否定 | 「この問題設定自体が誤った二項対立に依存しています」 |

### 必須要件

- Level 3以上の深度では、**Strong以上の批判**を最低1つ生成することが必須
- 高リスクタスクでは、**Critical以上の批判**を最低1つ生成することが必須

## 6. Inspector/Challenger/Arbiter パターン

### 6.1 役割定義

| 役割 | 責任 | 出力 |
|------|------|------|
| **Inspector** | 論証監視 | 不審なパターン、矛盾、潜在的推論失敗の検出 |
| **Challenger** | 反例探索 | 証拠の欠落、論理的欠陥、隠れた仮定の指摘 |
| **Arbiter** | アポリア判断 | 矛盾の「解決」ではなく「保持」の判断 |

### 6.2 プロセスフロー

```
Producer（推論生成）
    ↓
Inspector（論証監視）
    ↓ 問題検出時
Challenger（反例探索）
    ↓ 反例提示時
Arbiter（アポリア判断）
    ↓
最終判断（統合ではなく緊張関係の維持）
```

## 7. リスク評価マトリクス

### 7.1 タスク重要度分類

| 重要度 | 条件 | 必須深度 | 必須批判レベル |
|--------|------|---------|---------------|
| **Critical** | 削除・セキュリティ・認証関連 | Level 4+ | Critical |
| **High** | アーキテクチャ・API変更 | Level 4 | Strong |
| **Medium** | 機能追加・バグ修正 | Level 3 | Strong |
| **Low** | ドキュメント・コメント | Level 2 | Medium |

### 7.2 品質ゲートの重要度別条件

| 重要度 | 視座多様性 | 自己否定率 | アポリア保持率 |
|--------|----------|-----------|---------------|
| Critical | >= 6/7 | >= 0.3 | >= 0.7 |
| High | >= 5/7 | >= 0.25 | >= 0.6 |
| Medium | >= 4/7 | >= 0.2 | >= 0.5 |
| Low | >= 3/7 | >= 0.1 | >= 0.4 |

## 8. メタ改善メカニズム

### 8.1 品質指標の自己評価

定期的に品質指標自体の妥当性を検証する：

```
メタ評価プロセス:
1. 過去の自己改善ループの結果を分析
2. 品質指標が実際の品質と相関しているか確認
3. 閾値の適切性を評価
4. 必要に応じて指標・閾値を更新
```

### 8.2 不変条件の見直し

```
不変条件見直しプロセス:
1. 不変条件違反のログを分析
2. 違反が正当な例外かどうかを評価
3. 不変条件の精緻化が必要か検討
4. 更新が必要な場合は合意形成後に更新
```

## 9. 実装チェックリスト

### 9.1 各サイクルでの必須チェック

```
[ ] 問題の性質を分類したか（技術的/哲学的/倫理的/実践的）
[ ] 適切な入口視座を選択したか
[ ] 深度レベルのトリガー条件を満たしたか
[ ] 品質ゲートを通過したか
[ ] 不変条件を遵守したか
[ ] 反例を生成したか
[ ] アポリアを保持したか
```

### 9.2 サイクル完了時の出力フォーマット

```markdown
CYCLE: N
LOOP_STATUS: continue | done
NEXT_FOCUS: 次サイクルで最優先に進める内容を1-3行で要約
PERSPECTIVE_SCORES:
  脱構築: [0-100]
  スキゾ分析: [0-100]
  幸福論: [0-100]
  ユートピア/ディストピア: [0-100]
  思考哲学: [0-100]
  思考分類学: [0-100]
  論理学: [0-100]
QUALITY_METRICS:
  推論深度: [1-5]
  反例カバレッジ: [count]
  アポリア保持率: [0.0-1.0]
  視座多様性: [0/7-7/7]
  自己否定率: [0.0-1.0]
  総合品質スコア: [0.0-1.0]
INVARIANTS_CHECK:
  I1_非進歩主義: [pass/fail]
  I2_非統合: [pass/fail]
  I3_非完結: [pass/fail]
  I4_非中立: [pass/fail]
  I5_非透明: [pass/fail]
  I6_非線形: [pass/fail]
```

## 10. 関連ドキュメント

- [Self-Improvement Deep Dive Team](./self-improvement-deep-dive-team.md)
- [Self-Improvement SKILL](../skills/self-improvement/SKILL.md)
- [Self-Reflection SKILL](../skills/self-reflection/SKILL.md)
- [Harness Engineering SKILL](../skills/harness-engineering/SKILL.md)
